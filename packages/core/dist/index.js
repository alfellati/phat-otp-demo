(()=>{"use strict";var t,e,r={231:(t,e)=>{}},n={};function s(t){var e=n[t];if(void 0!==e)return e.exports;var i=n[t]={exports:{}};return r[t](i,i.exports,s),i.exports}e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,s.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);s.r(i);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&n&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>r[t]));return o.default=()=>r,s.d(i,o),i},s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{s(231);function t(t,e,r){const n=e.split("|").map((t=>t.trim()));for(let r=0;r<n.length;r++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}function e(e,r,n){for(let s in r){let i=r[s];const o=n?n[s]:null;o&&t(i,o,s),Object.defineProperty(e,s,{enumerable:!0,value:i,writable:!1})}}const r="6.6.3";function n(t){if(null==t)return"null";if(Array.isArray(t))return"[ "+t.map(n).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[15&t[n]];return r}if("object"==typeof t&&"function"==typeof t.toJSON)return n(t.toJSON());switch(typeof t){case"boolean":case"symbol":case"number":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map((e=>`${n(e)}: ${n(t[e])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function i(t,e){return t&&t.code===e}function o(t,s,i,o){if(!t)throw function(t,s,i){{const e=[];if(i){if("message"in i||"code"in i||"name"in i)throw new Error(`value will overwrite populated values: ${n(i)}`);for(const t in i){const r=i[t];e.push(t+"="+n(r))}}e.push(`code=${s}`),e.push(`version=${r}`),e.length&&(t+=" ("+e.join(", ")+")")}let o;switch(s){case"INVALID_ARGUMENT":o=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":o=new RangeError(t);break;default:o=new Error(t)}return e(o,{code:s}),i&&Object.assign(o,i),o}(s,i,o)}function a(t,e,r,n){o(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}["NFD","NFC","NFKD","NFKC"].reduce(((t,e)=>{try{if("test"!=="test".normalize(e))throw new Error("bad");if("NFD"===e){const t=String.fromCharCode(233).normalize("NFD");if(t!==String.fromCharCode(101,769))throw new Error("broken")}t.push(e)}catch(t){}return t}),[]);function u(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if("string"==typeof t&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const e=new Uint8Array((t.length-2)/2);let r=2;for(let n=0;n<e.length;n++)e[n]=parseInt(t.substring(r,r+2),16),r+=2;return e}a(!1,"invalid BytesLike value",e||"value",t)}function c(t,e){return u(t,e,!1)}function l(t,e){return u(t,e,!0)}const f="0123456789abcdef";function h(t){const e=c(t);let r="0x";for(let t=0;t<e.length;t++){const n=e[t];r+=f[(240&n)>>4]+f[15&n]}return r}function d(t){return"0x"+t.map((t=>h(t).substring(2))).join("")}const p={};function g(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new w(p,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function y(t,e){return new w(p,`bytes${e||""}`,t,{size:e})}const b=Symbol.for("_ethers_typed");class w{type;value;#t;_typedSymbol;constructor(t,r,n,s){null==s&&(s=null),function(t,e,r){if(null==r&&(r=""),t!==e){let t=r,e="new";r&&(t+=".",e+=" "+r),o(!1,`private constructor; use ${t}from* methods`,"UNSUPPORTED_OPERATION",{operation:e})}}(p,t,"Typed"),e(this,{_typedSymbol:b,type:r,value:n}),this.#t=s,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((t=>t.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#t}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#t?-1:!1===this.#t?this.value.length:null}static from(t,e){return new w(p,t,e)}static uint8(t){return g(t,8)}static uint16(t){return g(t,16)}static uint24(t){return g(t,24)}static uint32(t){return g(t,32)}static uint40(t){return g(t,40)}static uint48(t){return g(t,48)}static uint56(t){return g(t,56)}static uint64(t){return g(t,64)}static uint72(t){return g(t,72)}static uint80(t){return g(t,80)}static uint88(t){return g(t,88)}static uint96(t){return g(t,96)}static uint104(t){return g(t,104)}static uint112(t){return g(t,112)}static uint120(t){return g(t,120)}static uint128(t){return g(t,128)}static uint136(t){return g(t,136)}static uint144(t){return g(t,144)}static uint152(t){return g(t,152)}static uint160(t){return g(t,160)}static uint168(t){return g(t,168)}static uint176(t){return g(t,176)}static uint184(t){return g(t,184)}static uint192(t){return g(t,192)}static uint200(t){return g(t,200)}static uint208(t){return g(t,208)}static uint216(t){return g(t,216)}static uint224(t){return g(t,224)}static uint232(t){return g(t,232)}static uint240(t){return g(t,240)}static uint248(t){return g(t,248)}static uint256(t){return g(t,256)}static uint(t){return g(t,256)}static int8(t){return g(t,-8)}static int16(t){return g(t,-16)}static int24(t){return g(t,-24)}static int32(t){return g(t,-32)}static int40(t){return g(t,-40)}static int48(t){return g(t,-48)}static int56(t){return g(t,-56)}static int64(t){return g(t,-64)}static int72(t){return g(t,-72)}static int80(t){return g(t,-80)}static int88(t){return g(t,-88)}static int96(t){return g(t,-96)}static int104(t){return g(t,-104)}static int112(t){return g(t,-112)}static int120(t){return g(t,-120)}static int128(t){return g(t,-128)}static int136(t){return g(t,-136)}static int144(t){return g(t,-144)}static int152(t){return g(t,-152)}static int160(t){return g(t,-160)}static int168(t){return g(t,-168)}static int176(t){return g(t,-176)}static int184(t){return g(t,-184)}static int192(t){return g(t,-192)}static int200(t){return g(t,-200)}static int208(t){return g(t,-208)}static int216(t){return g(t,-216)}static int224(t){return g(t,-224)}static int232(t){return g(t,-232)}static int240(t){return g(t,-240)}static int248(t){return g(t,-248)}static int256(t){return g(t,-256)}static int(t){return g(t,-256)}static bytes1(t){return y(t,1)}static bytes2(t){return y(t,2)}static bytes3(t){return y(t,3)}static bytes4(t){return y(t,4)}static bytes5(t){return y(t,5)}static bytes6(t){return y(t,6)}static bytes7(t){return y(t,7)}static bytes8(t){return y(t,8)}static bytes9(t){return y(t,9)}static bytes10(t){return y(t,10)}static bytes11(t){return y(t,11)}static bytes12(t){return y(t,12)}static bytes13(t){return y(t,13)}static bytes14(t){return y(t,14)}static bytes15(t){return y(t,15)}static bytes16(t){return y(t,16)}static bytes17(t){return y(t,17)}static bytes18(t){return y(t,18)}static bytes19(t){return y(t,19)}static bytes20(t){return y(t,20)}static bytes21(t){return y(t,21)}static bytes22(t){return y(t,22)}static bytes23(t){return y(t,23)}static bytes24(t){return y(t,24)}static bytes25(t){return y(t,25)}static bytes26(t){return y(t,26)}static bytes27(t){return y(t,27)}static bytes28(t){return y(t,28)}static bytes29(t){return y(t,29)}static bytes30(t){return y(t,30)}static bytes31(t){return y(t,31)}static bytes32(t){return y(t,32)}static address(t){return new w(p,"address",t)}static bool(t){return new w(p,"bool",!!t)}static bytes(t){return new w(p,"bytes",t)}static string(t){return new w(p,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new w(p,"overrides",Object.assign({},t))}static isTyped(t){return t&&"object"==typeof t&&"_typedSymbol"in t&&t._typedSymbol===b}static dereference(t,e){if(w.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}const m=BigInt(0),v=BigInt(1),E=9007199254740991;function I(t,e){const r=L(t,"value"),n=BigInt(O(e,"bits"));return r&(v<<n)-v}function x(t,e){switch(typeof t){case"bigint":return t;case"number":return a(Number.isInteger(t),"underflow",e||"value",t),a(t>=-E&&t<=E,"overflow",e||"value",t),BigInt(t);case"string":try{if(""===t)throw new Error("empty string");return"-"===t[0]&&"-"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(r){a(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}a(!1,"invalid BigNumberish value",e||"value",t)}function L(t,e){const r=x(t,e);return o(r>=m,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const U="0123456789abcdef";function N(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=U[r>>4],e+=U[15&r];return BigInt(e)}return x(t)}function O(t,e){switch(typeof t){case"bigint":return a(t>=-E&&t<=E,"overflow",e||"value",t),Number(t);case"number":return a(Number.isInteger(t),"underflow",e||"value",t),a(t>=-E&&t<=E,"overflow",e||"value",t),t;case"string":try{if(""===t)throw new Error("empty string");return O(BigInt(t),e)}catch(r){a(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}a(!1,"invalid numeric value",e||"value",t)}function A(t){const e=L(t,"value");if(e===m)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let t=0;t<n.length;t++){const e=2*t;n[t]=parseInt(r.substring(e,e+2),16)}return n}const B=32,S=new Uint8Array(B),_=["then"],k={};function T(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}class R extends Array{#e;constructor(...t){const e=t[0];let r=t[1],n=(t[2]||[]).slice(),s=!0;e!==k&&(r=t,n=[],s=!1),super(r.length),r.forEach(((t,e)=>{this[e]=t}));const i=n.reduce(((t,e)=>("string"==typeof e&&t.set(e,(t.get(e)||0)+1),t)),new Map);if(this.#e=Object.freeze(r.map(((t,e)=>{const r=n[e];return null!=r&&1===i.get(r)?r:null}))),s)return Object.freeze(this),new Proxy(this,{get:(t,e,r)=>{if("string"==typeof e){if(e.match(/^[0-9]+$/)){const r=O(e,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const n=t[r];return n instanceof Error&&T(`index ${r}`,n),n}if(_.indexOf(e)>=0)return Reflect.get(t,e,r);const n=t[e];if(n instanceof Function)return function(...e){return n.apply(this===r?t:this,e)};if(!(e in t))return t.getValue.apply(this===r?t:this,[e])}return Reflect.get(t,e,r)}})}toArray(){const t=[];return this.forEach(((e,r)=>{e instanceof Error&&T(`index ${r}`,e),t.push(e)})),t}toObject(){return this.#e.reduce(((t,e,r)=>(o(null!=e,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),e in t||(t[e]=this.getValue(e)),t)),{})}slice(t,e){null==t&&(t=0),t<0&&(t+=this.length)<0&&(t=0),null==e&&(e=this.length),e<0&&(e+=this.length)<0&&(e=0),e>this.length&&(e=this.length);const r=[],n=[];for(let s=t;s<e;s++)r.push(this[s]),n.push(this.#e[s]);return new R(k,r,n)}filter(t,e){const r=[],n=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&T(`index ${s}`,i),t.call(e,i,s,this)&&(r.push(i),n.push(this.#e[s]))}return new R(k,r,n)}map(t,e){const r=[];for(let n=0;n<this.length;n++){const s=this[n];s instanceof Error&&T(`index ${n}`,s),r.push(t.call(e,s,n,this))}return r}getValue(t){const e=this.#e.indexOf(t);if(-1===e)return;const r=this[e];return r instanceof Error&&T(`property ${JSON.stringify(t)}`,r.error),r}static fromItems(t,e){return new R(k,t,e)}}function j(t){let e=A(t);return o(e.length<=B,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:B,offset:e.length}),e.length!==B&&(e=l(d([S.slice(e.length%B),e]))),e}class ${name;type;localName;dynamic;constructor(t,r,n,s){e(this,{name:t,type:r,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){a(!1,t,this.localName,e)}}class F{#r;#n;constructor(){this.#r=[],this.#n=0}get data(){return d(this.#r)}get length(){return this.#n}#s(t){return this.#r.push(t),this.#n+=t.length,t.length}appendWriter(t){return this.#s(l(t.data))}writeBytes(t){let e=l(t);const r=e.length%B;return r&&(e=l(d([e,S.slice(r)]))),this.#s(e)}writeValue(t){return this.#s(j(t))}writeUpdatableValue(){const t=this.#r.length;return this.#r.push(S),this.#n+=B,e=>{this.#r[t]=j(e)}}}class V{allowLoose;#r;#i;constructor(t,r){e(this,{allowLoose:!!r}),this.#r=l(t),this.#i=0}get data(){return h(this.#r)}get dataLength(){return this.#r.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#r)}#o(t,e,r){let n=Math.ceil(e/B)*B;return this.#i+n>this.#r.length&&(this.allowLoose&&r&&this.#i+e<=this.#r.length?n=e:o(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:l(this.#r),length:this.#r.length,offset:this.#i+n})),this.#r.slice(this.#i,this.#i+n)}subReader(t){return new V(this.#r.slice(this.#i+t),this.allowLoose)}readBytes(t,e){let r=this.#o(0,t,!!e);return this.#i+=r.length,r.slice(0,t)}readValue(){return N(this.readBytes(B))}readIndex(){return O(N(this.readBytes(B)))}}class C extends ${constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=l(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readIndex(),!0)}}function z(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function M(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}const D={number:z,bool:function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:M,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");z(t.outputLen),z(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,e){M(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}},H=D,P=BigInt(2**32-1),G=BigInt(32);function W(t,e=!1){return e?{h:Number(t&P),l:Number(t>>G&P)}:{h:0|Number(t>>G&P),l:0|Number(t&P)}}const X={fromBig:W,split:function(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=W(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]},toBig:(t,e)=>BigInt(t>>>0)<<G|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,r)=>t<<r|e>>>32-r,rotlSL:(t,e,r)=>e<<r|t>>>32-r,rotlBH:(t,e,r)=>e<<r-32|t>>>64-r,rotlBL:(t,e,r)=>t<<r-32|e>>>64-r,add:function(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:0|s}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,add5H:(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,add5L:(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0)};require("crypto");if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function J(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class q{clone(){return this._cloneInto()}}const[K,Z,Q]=[[],[],[]],Y=BigInt(0),tt=BigInt(1),et=BigInt(2),rt=BigInt(7),nt=BigInt(256),st=BigInt(113);for(let t=0,e=tt,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],K.push(2*(5*n+r)),Z.push((t+1)*(t+2)/2%64);let s=Y;for(let t=0;t<7;t++)e=(e<<tt^(e>>rt)*st)%nt,e&et&&(s^=tt<<(tt<<BigInt(t))-tt);Q.push(s)}const[it,ot]=X.split(Q,!0),at=(t,e,r)=>r>32?X.rotlBH(t,e,r):X.rotlSH(t,e,r),ut=(t,e,r)=>r>32?X.rotlBL(t,e,r):X.rotlSL(t,e,r);class ct extends q{constructor(t,e,r,n=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,H.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,s=(e+2)%10,i=r[s],o=r[s+1],a=at(i,o,1)^r[n],u=ut(i,o,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=u}let e=t[2],s=t[3];for(let r=0;r<24;r++){const n=Z[r],i=at(e,s,n),o=ut(e,s,n),a=K[r];e=t[a],s=t[a+1],t[a]=i,t[a+1]=o}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=it[n],t[1]^=ot[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){H.exists(this);const{blockLen:e,state:r}=this,n=(t=J(t)).length;for(let s=0;s<n;){const i=Math.min(e-this.pos,n-s);for(let e=0;e<i;e++)r[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,0!=(128&e)&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){H.exists(this,!1),H.bytes(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,s=t.length;n<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-n);t.set(e.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return H.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(H.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return t||(t=new ct(e,r,n,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=n,t.enableXOF=i,t.destroyed=this.destroyed,t}}const lt=(t,e,r)=>function(t){const e=e=>t().update(J(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}((()=>new ct(e,t,r))),ft=(lt(6,144,28),lt(6,136,32),lt(6,104,48),lt(6,72,64),lt(1,144,28),lt(1,136,32)),ht=(lt(1,104,48),lt(1,72,64),(t,e,r)=>function(t){const e=(e,r)=>t(r).update(J(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e}(((n={})=>new ct(e,t,void 0===n.dkLen?r:n.dkLen,!0))));ht(31,168,16),ht(31,136,32);let dt=!1;const pt=function(t){return ft(t)};let gt=pt;function yt(t){const e=c(t,"data");return h(gt(e))}yt._=pt,yt.lock=function(){dt=!0},yt.register=function(t){if(dt)throw new TypeError("keccak256 is locked");gt=t},Object.freeze(yt);const bt=BigInt(0),wt=BigInt(36);function mt(t){const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=c(yt(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const vt={};for(let t=0;t<10;t++)vt[String(t)]=String(t);for(let t=0;t<26;t++)vt[String.fromCharCode(65+t)]=String(10+t);const Et=15;function It(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>vt[t])).join("");for(;e.length>=Et;){let t=e.substring(0,Et);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const xt=function(){const t={};for(let e=0;e<36;e++){t["0123456789abcdefghijklmnopqrstuvwxyz"[e]]=BigInt(e)}return t}();function Lt(t){if(a("string"==typeof t,"invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=mt(t);return a(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){a(t.substring(2,4)===It(t),"bad icap checksum","address",t);let e=function(t){t=t.toLowerCase();let e=bt;for(let r=0;r<t.length;r++)e=e*wt+xt[t[r]];return e}(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return mt("0x"+e)}a(!1,"invalid address","address",t)}const Ut=BigInt(0),Nt=BigInt(1),Ot=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function At(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return o(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),o(!t[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),t[n]=!0,r[n]}))}else a(!1,"invalid tuple value","tuple",r);a(e.length===n.length,"types/value length mismatch","tuple",r);let s=new F,i=new F,u=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=i.length;t.encode(i,r);let n=s.writeUpdatableValue();u.push((t=>{n(t+e)}))}else t.encode(s,r)})),u.forEach((t=>{t(s.length)}));let c=t.appendWriter(s);return c+=t.appendWriter(i),c}function Bt(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach((e=>{let o=null;if(e.dynamic){let r=t.readIndex(),n=s.subReader(r);try{o=e.decode(n)}catch(t){if(i(t,"BUFFER_OVERRUN"))throw t;o=t,o.baseType=e.name,o.name=e.localName,o.type=e.type}}else try{o=e.decode(t)}catch(t){if(i(t,"BUFFER_OVERRUN"))throw t;o=t,o.baseType=e.name,o.name=e.localName,o.type=e.type}if(null==o)throw new Error("investigate");r.push(o),n.push(e.localName||null)})),R.fromItems(r,n)}class St extends ${coders;constructor(t,r){let n=!1;const s=[];t.forEach((t=>{t.dynamic&&(n=!0),s.push(t.type)}));super("tuple","tuple("+s.join(",")+")",r,n),e(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let s=r.localName;s&&1===e[s]&&("length"===s&&(s="_length"),null==t[s]&&(t[s]=t[n]))})),Object.freeze(t)}encode(t,e){const r=w.dereference(e,"tuple");return At(t,this.coders,r)}decode(t){return Bt(t,this.coders)}}const _t=new class extends ${size;constructor(t,r){let n="bytes"+String(t);super(n,n,r,!1),e(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=l(w.dereference(e,this.type));return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return h(t.readBytes(this.size))}}(32,"bytes32"),kt=new class extends C{constructor(t){super("bytes",t)}decode(t){return h(super.decode(t))}}("bytes"),Tt=new class extends ${constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let r=w.dereference(e,"string");try{r=Lt(r)}catch(t){return this._throwError(t.message,e)}return t.writeValue(r)}decode(t){return Lt(function(t,e){let r=L(t,"value").toString(16);if(null==e)r.length%2&&(r="0"+r);else{const n=O(e,"width");for(o(2*n>=r.length,`value exceeds width (${n} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<2*n;)r="0"+r}return"0x"+r}(t.readValue(),20))}}("address"),Rt=new class extends ${size;signed;constructor(t,r,n){const s=(r?"int":"uint")+8*t;super(s,s,n,!1),e(this,{size:t,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let r=x(w.dereference(e,this.type)),n=I(Ot,256);if(this.signed){let t=I(n,8*this.size-1);(r>t||r<-(t+Nt))&&this._throwError("value out-of-bounds",e),r=function(t,e){let r=x(t,"value");const n=BigInt(O(e,"width")),s=v<<n-v;if(r<m)return r=-r,o(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),(~r&(v<<n)-v)+v;return o(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),r}(r,256)}else(r<Ut||r>I(n,8*this.size))&&this._throwError("value out-of-bounds",e);return t.writeValue(r)}decode(t){let e=I(t.readValue(),8*this.size);return this.signed&&(e=function(t,e){const r=L(t,"value"),n=BigInt(O(e,"width"));if(o(r>>n===m,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-v)return-((~r&(v<<n)-v)+v);return r}(e,8*this.size)),e}}(8,!1,"uint8");class jt{static decode(t){return function(t,e,r){return new St(t,"_").decode(new V(e,r))}([Tt,Tt],t)}static encode(t,e,r,n){return function(t,e){const r=new St(t,"_"),n=new F;return r.encode(n,e),n.data}([_t,Tt,Rt,kt],[t,e,r,n])}}globalThis.scriptOutput=function(t){let e,r;try{[e,r]=jt.decode(t)}catch(t){return jt.encode("0x0","0x0",1,"0x0")}const n=pink.httpRequest({url:"http://localhost:3001/?key=somethingrandomlysecret&recipient=0x20b572be48527a770479744aec6fe5644f97678b&sender={}",method:"GET",headers:{"Content-Type":"application/json","User-Agent":"phat-contract"},returnTextBody:!0});if(200==n.statusCode){const t=JSON.parse(n.body);return console.info(t),jt.encode(t.otp,t.recipient,0,t.signature)}return jt.encode("0x0","0x0",1,"0x0")}.apply(null,globalThis.scriptArgs)})()})();